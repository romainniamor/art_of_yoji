<template>
  <div class="loader">
    <p class="exclamation-mark">!</p>
    <div class="block block-1"></div>
    <div class="block block-2"></div>
    <div class="block block-3"></div>
    <div class="block block-4"></div>
    <div class="block block-5"></div>
    <div class="block block-6"></div>
    <div class="block block-7"></div>
    <div class="block block-8"></div>
    <div class="block block-9"></div>
    <div class="block block-10"></div>
    <div class="block block-11"></div>
    <div class="block block-12"></div>
    <div class="block block-13"></div>
    <div class="block block-14"></div>
    <div class="block block-15"></div>
    <div class="block block-16"></div>
  </div>

  <div class="main-container">
    <nav>
      <a class="logo" href="#">art-of-yoji</a>
      <ul class="items">
        <li><a class="item" href="#artist"> Part I</a></li>
        <li><a class="item" href="#artworks">Part II</a></li>
        <li><a class="item" href="#technic">Part III</a></li>
        <li><a class="item" href="#meca">Part IV</a></li>
      </ul>
    </nav>
    <div class="header">
      <img
        class="header-bg img-front"
        src="../assets/images/header.jpg"
        alt="main-wallpaper"
      />
      <img
        class="header-bg img-back"
        src="../assets/images/header3.jpg"
        alt="main-wallpaper"
      />
      <h1 class="header-title">art of yoji</h1>
    </div>
    <section class="banner" id="artist">
      <div class="banner-content">
        <div class="banner-title">
          <h2 class="title">
            Yoji Shinkawa <span class="japan-typo">新川洋司</span>
          </h2>
        </div>
        <div class="left-col">
          <p class="paragraph">
            We obviously hear a lot about Hideo Kojima as the face of the Metal
            Gear saga : he is the one behind the story.
          </p>
          <p class="paragraph">
            But an artist will considerably contribute to the building with
            regard to the visual style: M. Yoji Shinkawa.
          </p>
          <p class="paragraph">
            Born in 1971 in Hiroshima, Shinkawa lived his childhood being very
            influenced by Japanese manga, such as those of Tatsunoko and also
            and especially those which contain Japanese mechas.
          </p>
          <p class="paragraph">
            Interested in drawing in his family, he joined an art school in
            Kyoto, specializing in oil painting. He then looks for a job and
            tries his luck at Konami in 1994.
          </p>
        </div>
        <div class="right-col">
          <div class="img-box"></div>
          <p class="paragraph">
            The first official mission he is given is to create the design of a
            Metal Gear , no more and no less. After several researches and
            difficulties on the volumes of the drawing, he manages to create a
            convincing design.
          </p>
          <p class="paragraph">
            Kojima will be impressed and then propels him as Art Director on the
            title. His relationship with Kojima grows to the point that he will
            be the designer of all the visual work on the saga and bringing to
            life Hideo Kojima's inspiration.
          </p>
        </div>
      </div>
    </section>

    <section class="banner-two" id="artworks">
      <img
        class="banner-two-bg bg-1"
        src="../assets/images/bg1-banner2.jpeg"
        alt=""
      />
      <img
        class="banner-two-bg bg-2"
        src="../assets/images/bg2-banner2.jpeg"
        alt=""
      />
      <img
        class="banner-two-bg bg-3"
        src="../assets/images/bg3-banner2.jpg"
        alt=""
      />
      <h2 class="banner-two-title">artworks</h2>
      <img
        class="banner-two-overlay first-overlay-img"
        src="../assets/images/mgs-overlay1.png"
        alt=""
      />
      <img
        class="banner-two-overlay second-overlay-img"
        src="../assets/images/mgs-overlay2.jpeg"
        alt=""
      />
      <img
        class="banner-two-overlay third-overlay-img"
        src="../assets/images/mgs-overlay3.jpeg"
        alt=""
      />
    </section>

    <section class="banner-three" id="technic">
      <div class="bg-banner3">
        <div class="wrapper wrapper-up"></div>
        <div class="bullet-line">
          <div class="line">
            <img class="bullet-logo" src="../assets/images/bullet.png" alt="" />
          </div>
        </div>
        <div class="wrapper wrapper-down"></div>
      </div>
    </section>

    <section class="banner-four">
      <div class="col-left">
        <div class="banner-four-content">
          <p class="banner-four-paragraph">
            Shinkawa’s work has a certain fluidity to each drawing, showing
            movement and action in his drawings that is hard to master.
          </p>
          <p class="banner-four-paragraph">
            But when done so, it creates a piece of work that is impactful,
            beautiful, and dynamic.
          </p>
          <p class="banner-four-paragraph">
            His use of different weights of brush strokes creates a sense of
            balance and weight distribution to his images, allowing the
            illustrations to be brought to life even further.
          </p>
          <p class="banner-four-paragraph" style="font-style: italic">
            " I like multiplying the traits, enveloping the characters in
            multitudes of traits. My contours are never clear, always rather
            vague. This gives a kind of ethereal character to my creations, a
            form of lightness. On the other hand, when graphic designers have to
            convert the whole thing into three dimensions, they often struggle
            to define each contour well. However, I never go into details so as
            not to stifle their creativity."
          </p>
        </div>
      </div>
      <div class="col-right"></div>
    </section>
    <section class="banner-five" id="meca">
      <div class="banner-five-header">
        <svg viewBox="-100 55 800 100" id="svg">
          <path id="path" d="M9,150 q200,-120 400,0" />
          <g id="missile">
            <svg
              fill="#da7888"
              version="1.1"
              width="40px"
              height="35px"
              viewBox="0 0 548.17 548.17"
            >
              <g>
                <path
                  d="M544.809,289.847l-11.24,3.222l-5.979,12.543h7.685v40.865c0,5.449-2.07,9.863-4.628,9.863l-177.31-50.729H163.872c-1.105,0-2.208-0.012-3.3-0.036v-62.983c1.099-0.021,2.201-0.033,3.3-0.033h193.197l173.577-50.729c2.558,0,4.628,4.414,4.628,9.87v40.858h-11.168l9.463,13.089l11.24,3.361C552.371,274.995,544.809,289.847,544.809,289.847zM0,272.508c0,15.719,110.409,30.327,147.16,32.714v-62.265C110.409,245.341,0,256.795,0,272.508z"
                />
              </g>
            </svg>
          </g>
        </svg>

        <h2 class="title-left">nukes</h2>
        <h2 class="title-center">escalation</h2>
        <h2 class="title-right">evolution</h2>
        <img class="rex-meca" src="../assets/images/banner5-meca.gif" alt="" />
      </div>

      <div class="banner-five-content">
        <img
          class="banner-five-img"
          src="../assets/images/banner5-center.png"
          alt=""
        />
        <div class="slider">
          <div class="slider-content">
            war has changed war has changed war has changed
          </div>
        </div>
      </div>

      <div class="banner-five-footer">
        <img
          class="banner-five-footer-img"
          src="../assets/images/meca-footer.jpeg"
          alt=""
        />
      </div>

      <div class="quotes">
        <p class="quote">
          It's no longer about nations, ideologies, or ethnicity. It's an
          endless series of proxy battles, fought by mercenaries and machines.
        </p>
        <p class="quote">
          It's an endless series of proxy battles fought by mercenaries and
          machines.
        </p>
        <p class="quote">
          War, and its consumption of life, has become a well-oiled machine. War
          has changed. ID-tagged soldiers carry ID-tagged weapons, use ID-tagged
          gear. Nano-machines inside their bodies enhance and regulate their
          abilities. Genetic control, information control.
        </p>
        <p class="quote">Everything is monitored and kept under control.</p>
      </div>
    </section>
    <footer>art of yoji</footer>
  </div>
</template>

<script setup>
import { gsap } from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import { ScrollToPlugin } from "gsap/ScrollToPlugin";
import { MotionPathPlugin } from "gsap/MotionPathPlugin";

import { onMounted, ref } from "vue";

gsap.registerPlugin(ScrollTrigger, ScrollToPlugin, MotionPathPlugin);

const lockScroll = () => {
  document.body.style.overflow = "hidden";
};

const unlockScroll = () => {
  document.body.style.overflow = "";
};

onMounted(() => {
  lockScroll();
  gsap.to(".exclamation-mark", {
    fontSize: "15em",
    delay: 0.5,
    ease: "elastic.out(1, 0.75)",
    duration: 0.7,
  });

  //disparition
  gsap.to(".exclamation-mark", {
    scale: 0,
    opacity: 0,
    y: 40,
    delay: 1.8,
    duration: 0.3,
  });

  //fondu des elements
  gsap.to(".block", {
    duration: 2,
    delay: 1.9,
    height: "0%",
    opacity: 0,
    from: "bottom",
    stagger: {
      each: 0.02,
      from: "bottom",
    },
  });

  const headerTl = gsap.timeline();

  headerTl
    .to(".header-title", {
      duration: 5,
      delay: 1.5,
      y: -280,
    })
    .fromTo(
      "nav",
      {
        y: -50,
        opacity: 0,
      },
      {
        duration: 2,
        opacity: 1,
        y: 0,
      },
      "-=3"
    )
    .to(
      ".img-front",
      {
        duration: 3,
        opacity: 0,
      },
      "-=3"
    )

    .to(
      ".img-back",
      {
        duration: 2,
        opacity: 1,
        onComplete: unlockScroll,
      },
      "-=2"
    );

  //annimation de la page artiste

  const bannerTl = gsap.timeline();
  bannerTl

    .to(".banner-content .banner-title h2", {
      y: -20,
      opacity: 1,
      ease: "power2.out",
      duration: 5,
      stagger: 10,
      scrollTrigger: {
        trigger: ".header",
        start: "bottom center",

        scrub: true,
      },
    })

    .to("nav", {
      backgroundColor: "black",
      duration: 3,
      scrollTrigger: {
        trigger: ".banner",
        scrub: true,
      },
    })

    .to(".banner-content .paragraph:not(:first-child)", {
      filter: "blur(0px)",
      duration: 3,
      stagger: 2,
      scrollTrigger: {
        trigger: ".banner",
        scrub: true,
        pin: ".banner",
      },
    });

  //banner 2 overlay title and pictures display

  const bannerTwoTl = gsap.timeline({
    scrollTrigger: {
      trigger: ".banner-two",

      scrub: 0.1,
      pin: ".banner-two",
      start: "top top",
      end: "120% top  ",
      //gestion du bg en fonction du scroll
      onUpdate: (self) => {
        const bgTwo = document.querySelector(".bg-2");
        const bgOne = document.querySelector(".bg-1");
        const bgThree = document.querySelector(".bg-3");
        const scrollProgress = self.progress;

        if (scrollProgress <= 0.5) {
          gsap.to(bgOne, { opacity: 1, duration: 3 });
          gsap.to(bgTwo, { opacity: 0, duration: 3 });
          gsap.to(bgThree, { opacity: 0, duration: 3 });
        } else if (scrollProgress > 0.5 && scrollProgress <= 0.63) {
          gsap.to(bgOne, { opacity: 0, duration: 3 });
          gsap.to(bgTwo, { opacity: 1, duration: 3 });
          gsap.to(bgThree, { opacity: 0, duration: 3 });
        } else {
          gsap.to(bgOne, { opacity: 0, duration: 3 });
          gsap.to(bgTwo, { opacity: 0, duration: 3 });
          gsap.to(bgThree, { opacity: 1, duration: 3 });
        }
      },
    },
  });

  bannerTwoTl
    .to(".banner-two-title", {
      duration: 10,
      z: 900,
      mixBlendMode: "multiply",
    })
    .to(".banner-two-title", {
      duration: 6,
      backgroundColor: "transparent",
      opacity: 0,
    })
    .to(".first-overlay-img", {
      y: "-150%",
      x: 150,
      rotation: 5,
      ease: "power3.out",
      duration: 4,
      opacity: 1,
    })
    .to(".second-overlay-img", {
      y: "-140%",
      x: -180,
      rotation: -3,
      ease: "power3.in",
      duration: 6,
      opacity: 1,
    })
    .to(".third-overlay-img", {
      y: "-130%",
      x: 250,
      rotation: -8,
      ease: "power3.in",
      duration: 6,
      opacity: 1,
    })
    .to(
      ".banner-two-overlay",
      {
        x: "-30%",
        duration: 10,
        stagger: {
          amount: 1.5,
        },
      },
      "+=2"
    );

  //banner3 anim

  const bannerThreeTl = gsap.timeline({
    scrollTrigger: {
      trigger: ".banner-three",
      start: "center center",
      scrub: true,
      pin: ".banner-three",
      end: "100%",
    },
  });

  //bullet forward

  bannerThreeTl
    .to(".line", {
      duration: 10,
      width: "80vw",
    })
    .to(
      ".line",
      {
        opacity: 0,
        duration: 0.5,
      },
      "-=.5"
    )

    .to(
      ".bg-banner3 .wrapper",
      {
        height: 0,
        duration: 10,
      },
      "-=.3"
    );

  //banner 4

  gsap.to(".banner-four", {
    scrollTrigger: {
      trigger: ".banner-four",
      scrub: true,
      start: "top bottom",
      end: "center bottom",
    },
    duration: 3,
    y: -45,
  });

  gsap.to(
    ".banner-four .banner-four-paragraph",
    {
      scrollTrigger: {
        trigger: ".banner-four",
        scrub: true,
        start: "top center",
        end: "80% bottom",
      },
      y: -70,
      filter: "blur(0px)",
      opacity: 1,
      stagger: 3,
      duration: 8,
      ease: "Power4.easeOut",
    },
    "+=5"
  );

  //banner 5

  const bannerFiveTl = gsap.timeline();

  bannerFiveTl
    .to(".banner-five", {
      duration: 1.5,
      y: "-5",
      scrollTrigger: {
        trigger: ".banner-five",
        start: "-15% 70%",
        scrub: true,
        end: "60% center",
      },
    })

    .to(".banner-five-header h2", {
      opacity: 1,
      filter: "blur(0px)",
      duration: 5,
      scrollTrigger: {
        trigger: ".banner-five-header h2",
        start: "top center",
        scrub: true,
      },
    })

    .to(
      "#missile",
      {
        duration: 50,
        ease: "power1.inOut",
        scrollTrigger: {
          trigger: ".banner-five-header h2",
          start: "top center",
          end: "bottom 30%",
          scrub: true,
        },
        motionPath: {
          path: "#path",
          align: "#path",
          autoRotate: 180,
          alignOrigin: [0.5, 0.5],
        },
      },
      "-=1"
    )

    .to(".slider-content", {
      duration: 5,
      x: -200,
      scrollTrigger: {
        trigger: ".slider",
        start: "-330px center",
        scrub: true,
      },
    });
});
</script>

<style>
@font-face {
  font-family: "mgs";
  src: url("../assets/fonts/metag___-webfont.woff2") format("woff2"),
    url("../assets/fonts/metag___-webfont.woff") format("woff");
  font-weight: normal;
  font-style: normal;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  width: 100%;
  font-family: "Teko", sans-serif;
  background: #000;
  color: #fafafa;
  display: block;
  -webkit-font-smoothing: antialiased;
}
body::-webkit-scrollbar {
  display: none;
}

a {
  text-decoration: none;
  color: white;
}

nav {
  position: fixed;
  z-index: 3;
  display: flex;
  align-items: center;
  width: 100%;
  padding: 10px;
  gap: 50px;
}

.logo {
  font-size: 2em;
  color: white;
}

ul {
  display: flex;
  justify-content: space-around;
  list-style: none;
  flex-grow: 1;
  font-size: 1.5em;
  text-transform: uppercase;
}

/* HEADER */

.header {
  position: relative;
  height: 100vh;
}

.header-bg {
  width: 100%;
  height: 100vh;
  opacity: 0;
  position: absolute;
  top: 0;
  left: 0;
}

.img-front {
  opacity: 1;
}

.header-title {
  font-size: 8em;
  position: absolute;
  left: 60px;
  bottom: 0;
  font-family: "mgs";
  line-height: 1em;
  z-index: 2;
}

/* BANNER1 YOJI SHINKAWA BIO */

.banner {
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.banner-content {
  display: flex;
  gap: 50px;
  align-items: center;
  position: relative;
  padding: 0px 100px;
}

.banner-title {
  position: absolute;
  top: 0px;
  left: 100;
}

.japan-typo {
  color: #4c4c4c;
  font-size: 1em;
  font-weight: 900;
  letter-spacing: 10px;
}

.banner-title h2 {
  font-size: 3.5em;
  opacity: 0;
}

.left-col,
.right-col {
  width: 50%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.paragraph {
  filter: blur(7px);
  font-size: 1.6em;
  line-height: 1.8em;
  margin: 10px 20px;
  text-align: justify;
}

.paragraph:nth-child(1) {
  filter: blur(0px);
}

.img-box {
  width: 300px;
  height: 300px;
  margin: 50px 0;
  background-image: url("../assets/images/yoji.jpeg");
  background-size: cover;
  background-position: center;
  border-radius: 50%;
  z-index: 1;
}

/* BANNER2 ARTWORK */

.banner-two {
  overflow: hidden;
  height: 100vh;
  width: 100vw;
  position: relative;
  perspective: 1000px;
}

.banner-two-bg {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.bg-1 {
  opacity: 1;
  z-index: 1;
}
.bg-2 {
  opacity: 0;
  z-index: 2;
}
.bg-3 {
  opacity: 0;
  z-index: 3;
}

.banner-two-title {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 10em;
  letter-spacing: 0.25em;
  text-transform: uppercase;
  color: #fff;
  background-color: black;
  padding: 100%;
  z-index: 3;
}

.banner-two-overlay {
  position: absolute;
  top: 150%;
  right: 40%;
  transform: translate(-100%, -40%);
  z-index: 4;
}

.first-overlay-img {
  width: 800px;
}
.second-overlay-img {
  width: 800px;
}
.third-overlay-img {
  width: 800px;
}

/* BANNER3 BULLET  */

.banner-three {
  width: 100%;
  height: 100vh;
  background-color: #ffffff;
  position: relative;
}

.bg-banner3 {
  background-image: url("../assets/images/bg-banner3.jpg");
  background-position: center;
  background-size: cover;
  height: 90%;
  width: 90%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.bg-banner3 .wrapper {
  position: absolute;
  height: 51%;
  width: 100%;
  background-color: white;
  left: 0;
  margin: 0;
  padding: 0;
}

.wrapper-up {
  top: 0;
}

.wrapper-down {
  bottom: 0;
}

.bullet-line {
  position: absolute;
  top: 50%;
  left: -20%;
  transform: translate(20%, -50%);
  z-index: 1;
}

.line {
  width: 0%;
  height: 3px;
  background: linear-gradient(
    270deg,
    rgba(0, 0, 0, 1) 20%,
    rgb(148, 148, 148) 60%,
    rgba(255, 255, 255, 1) 100%
  );
  position: relative;
}

.bullet-logo {
  height: 40px;
  transform: translate(50px, -50%) rotate(90deg);
  position: absolute;
  right: -10px;
  top: 50%;
}

/* BANNER4 STYLE DRAW  */

.banner-four {
  height: auto;
  width: 100%;
  display: flex;
  background-image: url("../assets/images/mgs-banner-four-bg.jpg");
  background-size: cover;
  background-position: center;
}

.banner-four .col-right {
  background-image: url(../assets/images/banner-four-right-bg.jpeg);
  background-size: cover;
  height: 150vh;
}

.banner-four .col-left,
.banner-four .col-right {
  display: flex;
  flex-direction: column;
  width: 50%;
  align-items: center;
  justify-content: end;
}

.banner-four-content {
  width: 400px;
}

.banner-four-paragraph {
  padding: 12px 0;
  margin: 20px 0;
  line-height: 1.4em;
  font-size: 2.1em;

  color: #f2f2f2;
  opacity: 0.1;
  filter: blur(3px);
  text-align: justify;
}

/* BANNER 5 */

.banner-five {
  position: relative;
  display: flex;
  flex-direction: column;
  background-image: url("../assets/images/mur-beton-blanc.jpg");
  overflow: hidden;
  border-radius: 20px;
  margin: 0 10px;
}

.banner-five-header {
  width: 100%;
  height: 500px;
  position: relative;
}

.banner-five-content {
  width: 100%;
  height: 1000px;
  position: relative;
}

.banner-five-footer {
  width: 100%;
  height: 1150px;
  display: flex;
  justify-content: right;
  align-items: center;
}

.banner-five-img {
  margin: 100px;
  width: 1200px;
  position: absolute;
  top: 50%;
  left: 60%;
  transform: translate(-50%, -50%) rotate(-3deg);
  z-index: 2;
}

.quotes {
  width: 60%;
  height: auto;
  color: rgba(0, 0, 0, 0.2);
  filter: blur(4px);
  top: 15%;
  padding: 0 100px;
  position: absolute;
}

.quote {
  margin: 17px 0;
  font-size: 5em;
  font-weight: 900;
  line-height: 1.8em;
  overflow: hidden;
}

.banner-five-footer-img {
  width: 50%;
  z-index: 1;
}

/* svg animation missile */

#path {
  stroke-width: 0.5;
  stroke: gray;
  stroke-dasharray: 2;
  fill: none;
}

#missile {
  z-index: 2;
}

.banner-five-header h2 {
  color: #000;
  position: absolute;
  text-transform: uppercase;
  font-size: 9em;
  opacity: 0.3;
  filter: blur(7px);
}

.title-left {
  top: 100px;
  left: 70px;
}

.title-center {
  top: 220px;
  left: 130px;
  font-size: 6em;
}

.title-right {
  top: 220px;
  right: 100px;
  z-index: 1;
}

.rex-meca {
  position: absolute;
  bottom: -250px;
  right: -10px;
  width: 600px;
  transform: rotate(-2deg);
}

.slider {
  width: 100%;
  position: absolute;
  bottom: -180px;
  overflow-x: auto;
  transform: rotate(-3deg);
  padding: 15px 0;
  z-index: 0;
}

.slider-content {
  font-size: 6.5em;
  letter-spacing: 0.3em;
  color: black;
  white-space: nowrap;
  text-transform: uppercase;
  border-bottom: 5px solid #c39595ab;
  font-weight: 900;
}

footer {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  font-family: "mgs";
  padding: 20px 0;
}

/* loader */

.loader {
  width: 100vw;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 3;
  opacity: 1;
  overflow: hidden;
}

.exclamation-mark {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 0em;
  z-index: 2;
  color: #e61111;
  font-weight: 900;
  font-family: "Tektur", cursive;
}

.block {
  width: 100vw;
  height: 5%;
  background: white;
  position: absolute;
  left: 0;
}

.block-1 {
  bottom: 0%;
}
.block-2 {
  bottom: 5%;
}
.block-3 {
  bottom: 10%;
}
.block-4 {
  bottom: 15%;
}
.block-5 {
  bottom: 20%;
  height: 10%;
}
.block-6 {
  bottom: 30%;
  height: 10%;
}
.block-7 {
  bottom: 40%;
  height: 15%;
}
.block-8 {
  bottom: 55%;
  height: 20%;
}

.block-10 {
  bottom: 70%;
  height: 25%;
}
</style>
